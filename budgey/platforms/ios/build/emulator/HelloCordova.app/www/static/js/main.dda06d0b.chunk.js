(this["webpackJsonpbudget-frontend"]=this["webpackJsonpbudget-frontend"]||[]).push([[0],{141:function(e,t,a){e.exports=a(211)},146:function(e,t,a){},164:function(e,t,a){},168:function(e,t,a){},171:function(e,t,a){},172:function(e,t,a){},195:function(e,t,a){},198:function(e,t,a){},199:function(e,t,a){},200:function(e,t,a){},201:function(e,t,a){},202:function(e,t,a){},203:function(e,t,a){},204:function(e,t,a){},205:function(e,t,a){},206:function(e,t,a){},207:function(e,t,a){},208:function(e,t,a){},209:function(e,t,a){},211:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(11),o=a.n(c),l=(a(146),a(7)),s=a(6),i=a(23),u=a(41),m=a(9),d=a.n(m);a(238),a(164);var p=a(242);a(168);function g(e){return r.a.createElement("div",{className:"Home"},r.a.createElement("h1",{className:"title"},"Budgey"),r.a.createElement("img",{src:"pig.png",className:"logo"}),r.a.createElement(i.b,{to:"/login"},r.a.createElement(p.a,{variant:"contained",color:"primary",className:"button"},"login")),r.a.createElement(i.b,{to:"/register"},r.a.createElement(p.a,{variant:"contained",color:"",className:"button"},"Register")))}a(171);var f=a(272);function h(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function b(e){var t=Object(n.useState)({email:"",password:""}),a=Object(s.a)(t,2),c=a[0],o=a[1],i=Object(n.useState)(""),m=Object(s.a)(i,2),g=m[0],b=m[1],E=Object(u.f)(),y=function(e){e.persist(),o((function(t){return function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?h(a,!0).forEach((function(t){Object(l.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):h(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},t,Object(l.a)({},e.target.name,e.target.value))}))};return r.a.createElement("div",{className:"Login"},r.a.createElement("h1",{className:"title"},"Login"),r.a.createElement("form",{onSubmit:function(t){t.preventDefault(),b(""),d.a.post("http://localhost:3000/sessions",{user:{email:c.email,password:c.password}},{withCredentials:!0}).then((function(t){t.data.logged_in?(e.handleLogin(t.data.user[0]),E.push("/home")):401===t.data.status&&b("Please check your email and password")})).catch((function(e){console.log("login error",e)}))}},r.a.createElement(f.a,{label:"Email",maxLength:"20",margin:"normal",className:"textinput",type:"email",name:"email",onChange:function(e){return y(e)},required:!0}),r.a.createElement(f.a,{label:"Password",margin:"normal",className:"textinput",type:"password",name:"password",onChange:function(e){return y(e)},required:!0}),r.a.createElement("p",{id:"error"},g),r.a.createElement(p.a,{type:"submit",variant:"contained",color:"",className:"login button"},"Login"),r.a.createElement(p.a,{variant:"contained",color:"",className:"button",onClick:function(){return E.push("/register")}},"Register")))}a(172);var E=function(){return r.a.createElement("div",{className:"header-contents"},r.a.createElement("img",{src:"pig.png",className:"avatar-piggy"}),r.a.createElement("span",{className:"header-title"},"Budgey"))},y=a(47),v=a.n(y),O=a(247);function j(e){return r.a.createElement("div",null,r.a.createElement("h1",{className:"title"},"Get Started"),r.a.createElement("form",{className:"userForm"},r.a.createElement(f.a,{label:"Name",type:"text",name:"userName",className:"textinput",onChange:e.onChange,required:!0}),r.a.createElement(f.a,{type:"email",name:"email",className:"textinput",onChange:e.onChange,label:"Email",required:!0}),r.a.createElement(f.a,{type:"password",name:"password",className:"textinput",onChange:e.onChange,label:"Password",required:!0}),r.a.createElement(f.a,{type:"password",name:"password_confirmation",className:"textinput",onChange:e.onChange,label:"Confirm Password",required:!0})))}function w(e){return r.a.createElement("div",{className:"BudgetRegister"},r.a.createElement("h1",{className:"title"},"Budget"),r.a.createElement("p",null,"What is your budget per month?"),r.a.createElement(f.a,{className:"textinput",lable:"Amount",type:"text",name:"amount",onChange:e.onChange,required:!0}))}var N=a(106),S=a.n(N);function C(){var e=Object(n.useState)(""),t=Object(s.a)(e,2),a=t[0],c=t[1];return r.a.createElement("div",null,r.a.createElement(S.a,{className:"link-bank",style:{margin:"30vh 0"},clientName:"Your app name",env:"sandbox",product:["auth","transactions"],publicKey:"f5d36ce3fa8cfc7f7ea122094b9505",onSuccess:function(e,t){c("success")}},"Connect to your bank"),a?r.a.createElement("p",null,"Success!"):"")}function P(e){return r.a.createElement("div",{className:"PlaidRegister"},r.a.createElement(C,null))}function D(e){return r.a.createElement("div",{className:"ConfirmRegister"},r.a.createElement("h1",{className:"title"},"Confirm"),r.a.createElement("p",null,"Click Budgey the Pig to submit"),r.a.createElement("img",{src:"pig.png",onClick:e.submit}),e.error&&r.a.createElement("p",{class:"error-message"},e.error))}a(195);function k(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function _(e){var t=Object(n.useState)({userName:"",email:"",password:"",password_confirmation:""}),a=Object(s.a)(t,2),c=a[0],o=a[1],i=Object(n.useState)(0),m=Object(s.a)(i,2),p=m[0],g=m[1],f=Object(n.useState)(""),h=Object(s.a)(f,2),b=h[0],y=h[1],N=r.a.useState(0),S=Object(s.a)(N,2),C=S[0],_=S[1],x=Object(u.f)();return r.a.createElement("div",{className:"Register"},r.a.createElement(E,null),r.a.createElement("div",{className:"swipe-card"},r.a.createElement(v.a,{onChangeIndex:function(e,t){_(e>t?function(e){return e+1}:function(e){return e-1})}},r.a.createElement(j,{onChange:function(e){e.persist(),o((function(t){return function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?k(a,!0).forEach((function(t){Object(l.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):k(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},t,Object(l.a)({},e.target.name,e.target.value))}))}}),r.a.createElement(w,{onChange:function(e){return g(e.target.value)}}),r.a.createElement(P,null),r.a.createElement(D,{submit:function(t){d.a.post("http://localhost:3000/registrations",{user:{name:c.userName,email:c.email,password:c.password,password_confirmation:c.password_confirmation}},{withCredentials:!0}).then((function(t){e.handleLogin(t.data.user[0]),d.a.post("http://localhost:3000/goals",{goal:{goal_type:"budget",amount:parseInt(p),name:"budget",start_date:new Date(Date.now()),end_date:"null"}},{withCredentials:!0}).then((function(e){x.push("/onboarding")}))})).catch((function(e){e&&(422===e.response.status?y("Please ensure you have filled out all text fields"):500===e.response.status&&y("Sorry, there has been an issue. Please enter a different email and try again"))}))},error:b})),r.a.createElement(O.a,{className:"register-stepper",variant:"dots",steps:4,position:"static",activeStep:C})))}var x=a(27),I=a(33),M=a.n(I),A=a(254),Y=a(255),B=a(69),T=a.n(B),L=a(109),G=a.n(L),R=a(108),F=a.n(R),H=a(68),q=a.n(H),$=a(107),W=a.n($),J=a(270),z=a(264),K=a(253),U=a(251),V=a(248),Q=a(267),X=a(71),Z=a(18),ee=a(263);function te(e){return r.a.createElement("div",null,r.a.createElement(Q.a,{onClose:function(){return e.onChangeOpenStatus({transaction:!1,list:!0})},"aria-labelledby":"simple-dialog-title",open:e.openStatus.transaction},r.a.createElement(V.a,{id:"simple-dialog-title"},"New Transaction"),r.a.createElement(V.a,null,r.a.createElement(f.a,{autoFocus:!0,label:"Amount",type:"number",value:e.transactionData.amount,onChange:e.onInputAmount}),r.a.createElement("br",null),r.a.createElement(f.a,{margin:"dense",label:"Location",type:"Text",value:e.transactionData.location,onChange:e.onInputLocation}),r.a.createElement(Z.a,{utils:X.a},r.a.createElement(ee.a,{disableToolbar:!0,inputProps:{readOnly:!0},format:"MM/dd/yyyy",margin:"normal",label:"Date picker inline",value:e.transactionData.transaction_date,onChange:e.onInputDate,KeyboardButtonProps:{"aria-label":"change date"}})),r.a.createElement(J.a,null,"Category"),r.a.createElement(z.a,{value:e.transactionData.category,onChange:e.onInputCategory},r.a.createElement(K.a,{value:"Shopping"},"Shopping"),r.a.createElement(K.a,{value:"Food and Drink"},"Food and Drink"),r.a.createElement(K.a,{value:"Recreation"},"Recreation"),r.a.createElement(K.a,{value:"Rideshare"},"Rideshare"))),r.a.createElement(U.a,null,r.a.createElement(p.a,{onClick:function(){e.changeNavbarStatus(),e.onChangeOpenStatus({transaction:!1,list:!1}),d.a.post("http://localhost:3000/transactions",{amount:e.transactionData.amount,location:e.transactionData.location,category:e.transactionData.category,transaction_date:e.transactionData.transaction_date},{withCredentials:!0}),e.resetValues()}},"Add"))))}var ae=a(246),ne=a(214);function re(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function ce(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?re(a,!0).forEach((function(t){Object(l.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):re(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function oe(e){var t=Object(n.useState)({list:!1,transaction:!1}),a=Object(s.a)(t,2),c=a[0],o=a[1],l=Object(n.useState)({amount:"",location:"",category:"",transaction_date:new Date(Date.now())}),i=Object(s.a)(l,2),u=i[0],m=i[1],p=Object(n.useState)(""),g=Object(s.a)(p,2),f=g[0],h=g[1],b=r.a.createRef();return Object(n.useEffect)((function(){o(ce({},c,{list:e.openAddTransaction}))}),[e.openAddTransaction]),Object(n.useEffect)((function(){o(ce({},c,{list:!1}));var e=new FormData;e.append("image",f),d.a.post("http://localhost:3000/image_recognition",e).then((function(e){var t=e.data.responses[0].fullTextAnnotation.text,a=0;t.includes("McDonald's")&&(a=Number(t.split(/(\r\n|\n|\r)/gm).filter((function(e){return e.includes("$")&&e.includes(".")}))[0].slice(2))),m(ce({},u,{amount:a,location:"McDonald's",category:"Food",transaction_date:new Date(Date.now())})),o(ce({},c,{list:!1,transaction:!0}))}))}),[f]),r.a.createElement("div",null,r.a.createElement(Q.a,{autoFocus:"true",onClose:function(){return e.changeOpenStatus(!1)},"aria-labelledby":"simple-dialog-title",open:c.list},r.a.createElement(V.a,{id:"simple-dialog-title"},"Add Transaction"),r.a.createElement(ae.a,null,r.a.createElement(ne.a,{onClick:function(){return b.current.click()}},"Take Picture",r.a.createElement("input",{type:"file",name:"image",accept:"image/*",style:{display:"none"},ref:b,onChange:function(e){return h(e.target.files[0])}})),r.a.createElement(ne.a,{onClick:function(){return o(ce({},c,{transaction:!0,list:!1}))}},"Enter Manually"))),r.a.createElement(te,{onChangeOpenStatus:function(e){return o(ce({},c,{list:e.list,transaction:e.transaction}))},openStatus:c,transactionData:u,onInputAmount:function(e){return m(ce({},u,{amount:e.target.value}))},onInputLocation:function(e){return m(ce({},u,{location:e.target.value}))},onInputCategory:function(e){return m(ce({},u,{category:e.target.value}))},onInputDate:function(e){return m(ce({},u,{transaction_date:e}))},changeNavbarStatus:function(){return e.changeOpenStatus(!1)},resetValues:function(){return m({amount:"",location:"",category:"",transaction_date:new Date(Date.now())})}}))}var le=a(249),se=Object(le.a)({root:{width:500}});function ie(e){var t=Object(n.useState)(!1),a=Object(s.a)(t,2),c=a[0],o=a[1],l=Object(n.useState)(e.location),i=Object(s.a)(l,2),m=i[0],d=i[1],p=se();Object(n.useEffect)((function(){d(e.location)}),[e.location]);var g=Object(u.f)();return r.a.createElement(A.a,{className:p.root,value:m,onClick:function(e,t){d(t)},style:{position:"fixed",bottom:"0",width:"100%",backgroundColor:"#f7f7f7"}},r.a.createElement(Y.a,{label:"Home",value:"home",icon:r.a.createElement(W.a,null),onClick:function(){g.push("/home")}}),r.a.createElement(Y.a,{label:"Store",value:"store",icon:r.a.createElement(q.a,null),onClick:function(){g.push("/store")}}),r.a.createElement(Y.a,{label:"Payment",value:"payment",onClick:function(){return o(!0)},icon:r.a.createElement(F.a,null)}),r.a.createElement(oe,{openAddTransaction:c,changeOpenStatus:function(e){return o(e)}}),r.a.createElement(Y.a,{value:"analytics",label:"Analytics",icon:r.a.createElement(T.a,null),onClick:function(){g.push("/analytics")}}),r.a.createElement(Y.a,{value:"profile",label:"Profile",icon:r.a.createElement(G.a,null),onClick:function(){return g.push("/profile")}}))}var ue=a(256),me=a(257),de=a(111),pe=a.n(de),ge=a(110),fe=a.n(ge);function he(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function be(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?he(a,!0).forEach((function(t){Object(l.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):he(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function Ee(e){var t=Object(n.useState)({id:e.id,name:e.name,amount:e.amount,start_date:e.start_date,end_date:e.end_date}),a=Object(s.a)(t,2),c=a[0],o=a[1],i=Object(n.useState)(""),u=Object(s.a)(i,2),m=u[0],d=u[1],g=function(e){return function(t){o(be({},c,Object(l.a)({},e,t.target.value)))}},h=function(e,t){o(be({},c,Object(l.a)({},e,t)))};return r.a.createElement("form",{onSubmit:function(t){t.preventDefault(),console.log(M()(t.target.start_date.value).format("YYYY-M-DD")>=M()(t.target.end_date.value).format("YYYY-M-DD")),M()(t.target.start_date.value).format("YYYY-M-DD")<=M()(t.target.end_date.value).format("YYYY-M-DD")?(e.onSave(c),e.setRefreshGoals(!e.refreshGoals),e.setActive(!e.active)):d(be({},m,{date:"***Please check your date range***"})),""===c.name&&d(be({},m,{name:"This field cannot be left blank"})),""===c.amount&&d(be({},m,{amount:"This field cannot be left blank"}))},className:"goal-form"},r.a.createElement(fe.a,{className:"close-button",onClick:function(){e.setActive(!e.active)}}),r.a.createElement(f.a,{className:"name-field",label:"Name",name:"name",inputProps:{maxLength:20},style:{color:"#FFFFFF"},type:"text",margin:"normal",value:c.name,helperText:m.name?m.name:"",onChange:g("name"),required:!0}),r.a.createElement("br",null),r.a.createElement(f.a,{label:"Amount",name:"amount",type:"number",margin:"normal",value:c.amount,helperText:m.amount?m.amount:"",onChange:g("amount"),required:!0}),r.a.createElement(Z.a,{utils:X.a},r.a.createElement(ee.a,{disableToolbar:!0,name:"start_date",variant:"inline",format:"MM/dd/yyyy",margin:"normal",label:"Start Date",minDate:Date.now(),value:c.start_date,inputProps:{readOnly:!0},KeyboardButtonProps:{"aria-label":"change date"},onChange:function(e){return h("start_date",e)},required:!0}),r.a.createElement(ee.a,{disableToolbar:!0,variant:"inline",format:"MM/dd/yyyy",margin:"normal",label:"End Date",minDate:new Date(new Date(e.start_date).getTime()+864e5),value:c.end_date,onChange:function(e){return h("end_date",e)},name:"end_date",inputProps:{readOnly:!0},KeyboardButtonProps:{"aria-label":"change date"},error:""===c.end_date,required:!0})),m.date?r.a.createElement("p",null,m.date):"",r.a.createElement(p.a,{className:"save-button",type:"submit",size:"small"},"Save"))}function ye(e){var t=Object(n.useState)(!1),a=Object(s.a)(t,2),c=a[0],o=a[1];return r.a.createElement(ue.a,{className:"new-goal-card"},r.a.createElement(me.a,null,!c&&r.a.createElement("div",{className:"new-goal-card-title",onClick:function(){return o(!c)}},r.a.createElement("h2",null,"Create Goal"),r.a.createElement(pe.a,null)),c&&r.a.createElement("div",{className:"new-goal-form"},r.a.createElement(Ee,{active:c,setActive:o,refreshGoals:e.refreshGoals,setRefreshGoals:e.setRefreshGoals,name:"",amount:"",start_date:new Date(Date.now()),end_date:new Date(new Date(Date.now()).getTime()+864e5),onSave:function(t){d.a.post("http://localhost:3000/goals",{goal:{goal_type:"saving",amount:parseInt(t.amount),name:t.name,start_date:t.start_date,end_date:t.end_date}},{withCredentials:!0}).then((function(){e.setRefreshGoals(!e.refreshGoals),o(!c)})).catch((function(e){return console.log("error posting",e)}))}}))))}var ve=a(212);function Oe(e){var t=Object(n.useState)(),a=Object(s.a)(t,2),c=a[0],o=a[1];return Object(n.useEffect)((function(){o(e.hp)}),[e.hp]),r.a.createElement("div",null,r.a.createElement("section",{className:"health"},r.a.createElement(ve.a,{value:c,className:"health-bar",variant:"determinate",color:"secondary"}),r.a.createElement("p",{className:"hp"},e.hp,"","HP")))}function je(e){var t=Object(n.useState)(),a=Object(s.a)(t,2),c=a[0],o=a[1];return Object(n.useEffect)((function(){o(e.coins)}),[e.coins]),r.a.createElement("div",null,r.a.createElement("p",{className:"coins"},c,"   ",r.a.createElement("img",{src:"coins.jpg",style:{height:"30px",width:"30px"}})))}function we(e){return r.a.createElement("div",{className:"user-profile"},r.a.createElement("section",{className:"user"},r.a.createElement("img",{src:"pig.png",className:"avatar"}),r.a.createElement("section",{className:"user-health"},r.a.createElement("h5",{className:"user-name"}," Hello, ",e.user.name),r.a.createElement(Oe,{hp:e.user.hp,minusHP:e.minusHP,resetHP:e.resetHP}),r.a.createElement(je,{coins:e.user.coins,updateCoins:e.updateCoins}))))}var Ne=a(258),Se=a(112),Ce=a.n(Se),Pe=a(113),De=a.n(Pe);function ke(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function _e(e){var t=Object(n.useState)({status:!1}),a=Object(s.a)(t,2),c=a[0],o=a[1],i=Object(n.useState)({id:e.id,amount:e.amount,name:e.name,start_date:e.startDate,end_date:e.endDate}),u=Object(s.a)(i,2),m=u[0],p=u[1],g=function(e){p((function(t){return function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ke(a,!0).forEach((function(t){Object(l.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ke(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},t,{},e)}))};return Object(n.useEffect)((function(){d.a.put("http://localhost:3000/goals/".concat(m.id),{goal:{start_date:new Date(m.start_date),end_date:new Date(m.end_date),amount:parseInt(m.amount),name:m.name}},{withCredentials:!0}).then((function(){e.setRefreshGoals(!e.refreshGoals)}))}),[m,e.goals]),r.a.createElement(ue.a,{className:"goal-card",style:{backgroundColor:e.bgColor}},"edit"!==c.status&&r.a.createElement(me.a,null,r.a.createElement("div",{className:"goal-main-info",onClick:function(){return o({status:!c.status})}},r.a.createElement("h2",null,e.name),r.a.createElement("p",{className:"goal-target"},e.completed?"COMPLETED":"$".concat(e.dailyTarget,"/day"))),r.a.createElement("div",{className:"goal-extra-info",style:{display:c.status?"block":"none"}},r.a.createElement("p",null,new Date(e.startDate).toLocaleString("default",{month:"short",day:"numeric",year:"numeric"})," ","-"," ",new Date(e.endDate).toLocaleString("default",{month:"short",day:"numeric",year:"numeric"}),r.a.createElement("p",null,"Total: $",parseInt(e.amount))),r.a.createElement(Ne.a,{className:"card-buttons"},r.a.createElement(Ce.a,{onClick:function(){return o({status:"edit"})}}),r.a.createElement(De.a,{onClick:function(){return e.onDelete(m)}})))),"edit"===c.status&&r.a.createElement(me.a,null,r.a.createElement("div",null,r.a.createElement(Ee,{className:"saved-goal-form",key:e.id,id:e.id,active:c,setActive:o,name:m.name,amount:m.amount,start_date:m.start_date,end_date:m.end_date,onSave:function(e){return g(e)},refreshGoals:e.refreshGoals,setRefreshGoals:e.setRefreshGoals}))))}var xe=a(269),Ie=function(e){var t=Object(n.useState)([]),a=Object(s.a)(t,2),c=a[0],o=a[1],l=Object(n.useState)(0),i=Object(s.a)(l,2),u=i[0],m=i[1],p=Object(n.useState)(0),g=Object(s.a)(p,2),f=g[0],h=g[1];Object(n.useEffect)((function(){var e=(new Date).toLocaleString("default",{month:"long"});d.a.get("http://localhost:3000/transactions/?month=".concat(e,"&type=progress"),{withCredentials:!0}).then((function(e){o(e.data.total),m(Number(e.data.budget)),h(Number(e.data.toSave))}))}),[e.goals]);var b=c/u*100,E=f/u*100;return r.a.createElement(ue.a,{className:"progress-card"},r.a.createElement("h3",null,"Daily Progress:"),r.a.createElement(xe.a,{className:"daily-progress",multi:!0,value:100},r.a.createElement(xe.a,{bar:!0,color:"success",value:b},c?"$".concat(c):""),r.a.createElement(xe.a,{bar:!0,color:"warning",value:E},f?"$".concat(f):"")),r.a.createElement("section",{className:"daily-tracker"},r.a.createElement("p",null,"Your daily budget is $".concat(u)),c+f>u?r.a.createElement("p",{style:{color:"#e34040"}},"You are currently over your budget"):r.a.createElement("p",{style:{color:"#6dbd55"}},"You are currently on track!")))},Me=a(259),Ae=a(260),Ye=a(262),Be=a(261);function Te(e){var t=Object(n.useState)([]),a=Object(s.a)(t,2),c=a[0],o=a[1];return Object(n.useEffect)((function(){d.a.get("http://localhost:3000/check_top_three",{withCredentials:!0}).then((function(e){o(Object(x.a)(e.data))}))}),[]),r.a.createElement(ue.a,{className:"progress-card",style:{paddingTop:"10px",paddingBottom:"20"}},r.a.createElement("h3",{style:{marginBottom:"0"}},"Your Top Spending:"),r.a.createElement(Me.a,{"aria-label":"simple table",style:{height:"100%"}},r.a.createElement(Ae.a,{className:"spending-body"},c.length>0&&c.map((function(e){return r.a.createElement(Be.a,{className:"top-location",key:e.location,style:{padding:0}},r.a.createElement(Ye.a,{component:"th",scope:"row",style:{padding:0,margin:0}},e.location),r.a.createElement(Ye.a,{className:"top-amount",style:{padding:0,margin:0}},"$",e.total.toFixed(2)))})))))}var Le=function(){var e=Object(n.useState)([]),t=Object(s.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)(0),l=Object(s.a)(o,2),i=l[0],u=l[1];Object(n.useEffect)((function(){var e=(new Date).toLocaleString("default",{month:"long"});d.a.get("http://localhost:3000/transactions/?month=".concat(e,"&type=monthlyprogress"),{withCredentials:!0}).then((function(e){c(e.data.total),u(e.data.budget)}))}),[]);var m=a/i*100;return r.a.createElement(ue.a,{className:"progress-card"},r.a.createElement("h3",null,"Monthly Progress:"),r.a.createElement(xe.a,{className:"monthly-progress",value:100},r.a.createElement(xe.a,{className:"monthly-progress",bar:!0,color:function(e){if(e)return e>=0&&e<50?"success":e>=50&&e<80?"warning":"danger"}(m),value:m>100?100:m},a?"".concat(m.toFixed(2),"%"):"")),r.a.createElement("section",{className:"daily-tracker"},r.a.createElement("p",null,"Your monthly budget is $".concat(i)),a>i?r.a.createElement("p",{style:{color:"#e34040"}},"You are currently over your budget"):r.a.createElement("p",{style:{color:"#6dbd55"}},"You are currently on track!")))};a(198);function Ge(e){e.logInStatus.user||e.checkLogInStatus();var t=Object(u.f)(),a=Object(n.useState)([]),c=Object(s.a)(a,2),o=c[0],l=c[1],i=Object(n.useState)(1),m=Object(s.a)(i,2),p=m[0],g=m[1],f=function(e,t){for(var a=0;a<t.length;a++)if(t[a].id===e)return a};Object(n.useEffect)((function(){d.a.get("http://localhost:3000/goals",{withCredentials:!0}).then((function(e){l(e.data.goals)}))}),[e.refreshGoals]);return r.a.createElement("div",{className:"Dashboard"},r.a.createElement(we,{user:e.logInStatus.user,minusHP:e.minusHP,resetHP:e.resetHP,updateCoins:e.updateCoins}),r.a.createElement("h1",{class:"date-now"},M()().format("MMMM Do, YYYY")),r.a.createElement(v.a,{index:1,onChangeIndex:function(e,t){e>t?p<=2&&g((function(e){return e+1})):p>=0&&g((function(e){return e-1}))}},r.a.createElement(Te,null),r.a.createElement(Ie,{goals:o}),r.a.createElement(Le,null)),r.a.createElement(O.a,{className:"progress-stepper",variant:"dots",steps:3,position:"static",activeStep:p}),r.a.createElement("section",{className:"goals"},r.a.createElement("h3",null,"Saving Goals:"),r.a.createElement(ye,{newGoal:o,setNewGoal:l,refreshGoals:e.refreshGoals,setRefreshGoals:e.setRefreshGoals}),r.a.createElement("div",{className:"goal-card",style:{WebkitOverflowScrolling:"touch"}},o.length>0&&o.map((function(t){return r.a.createElement(_e,{key:t.id,id:t.id,name:t.name,amount:t.amount,startDate:t.start_date,endDate:t.end_date,onDelete:function(e){return function(e){d.a.delete("http://localhost:3000/goals/".concat(e.id),{withCredentials:!0}).then((function(){var t=f(e.id,o),a=Object(x.a)(o);a.splice(t,1),l(a)}))}(e)},newGoal:o,setNewGoal:l,refreshGoals:e.refreshGoals,setRefreshGoals:e.setRefreshGoals,findGoalIndexById:f,dailyTarget:t.target_per_day,completed:t.completed,bgColor:t.completed?"#66bb6a":new Date(t.start_date)>new Date(Date.now())?"#d95c52":"#4db6ac"})})))),r.a.createElement(ie,{location:t.location.pathname.slice(1)}))}a(55);var Re=function(){return r.a.createElement("div",null,r.a.createElement("h1",{className:"title"},"Welcome to Budgey"),r.a.createElement("div",{className:"onboarding1-content"},r.a.createElement("div",null,"A budgeting app designed to help you save and visualize your spending.")))},Fe=a(116),He=a.n(Fe),qe=a(117),$e=a.n(qe),We=a(118),Je=a.n(We),ze=a(119),Ke=a.n(ze),Ue=a(114),Ve=a.n(Ue),Qe=a(115),Xe=a.n(Qe),Ze=function(){return r.a.createElement("div",null," ",r.a.createElement("img",{src:"budget.png",className:"avatar-budget"}),r.a.createElement("div",{className:"onboarding1-content"},"You can see your daily targets."),r.a.createElement("div",{className:"icons-category"},r.a.createElement(Ve.a,{className:"specific-icon"}),r.a.createElement(Xe.a,{className:"specific-icon"}),r.a.createElement(T.a,{className:"specific-icon"})),r.a.createElement("div",{className:"onboarding1-content"},"You can compare your spending with other months."),r.a.createElement("div",{className:"icons-category"},r.a.createElement(He.a,{className:"specific-icon"}),r.a.createElement($e.a,{className:"specific-icon"}),r.a.createElement(Je.a,{className:"specific-icon"}),r.a.createElement(Ke.a,{className:"specific-icon"})),r.a.createElement("div",{className:"onboarding1-content"},"You can see where most of your spending goes."))},et=function(){return r.a.createElement("div",{className:"onboarding3-entire"},r.a.createElement("img",{src:"credit-card.png",className:"transaction-camera"}),r.a.createElement("div",{className:"onboarding1-content"},"Budgey grabs all your transactions via credit cards"),r.a.createElement("img",{src:"camera.png",className:"transaction-camera"}),r.a.createElement("div",{className:"onboarding1-content"},"Paid with Cash? ",r.a.createElement("br",null),"Take a picture of your receipt to instantly add to your transactions automagically"))},tt=function(){var e=Object(u.f)();return r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("div",{className:"title"},"Find Badges, Get Coin"),r.a.createElement("img",{src:"badges.png",className:"badges-final"}),r.a.createElement("div",{className:"onboarding4-content"},"Unlock badges by hitting your saving goals"),r.a.createElement("button",{className:"onboarding-button",onClick:function(){return e.push("/home")}},"Happy Savings!")))};function at(){var e=r.a.useState(0),t=Object(s.a)(e,2),a=t[0],n=t[1];return r.a.createElement("div",{className:"onboarding"},r.a.createElement(E,null),r.a.createElement("div",{className:"swipe-card"},r.a.createElement(v.a,{onChangeIndex:function(e,t){n(e>t?function(e){return e+1}:function(e){return e-1})}},r.a.createElement(Re,null),r.a.createElement(Ze,null),r.a.createElement(et,null),r.a.createElement(tt,null)),r.a.createElement(O.a,{className:"onboarding-stepper",variant:"dots",steps:4,position:"static",activeStep:a})))}var nt=a(49),rt=a.n(nt),ct=a(245),ot=(a(199),["January","February","March","April","May","June","July","August","September","October","November","December"]),lt=function(e){var t=e.month,a=e.setMonth,n=e.setCategory,c=(new Date).toLocaleString("default",{month:"long"});return r.a.createElement("div",null,r.a.createElement(ct.a,{className:"monthly-options-list"},r.a.createElement(J.a,{id:"demo-simple-select-outlined-label"},"Month"),r.a.createElement(z.a,{labelId:"demo-simple-select-outlined-label",id:"demo-simple-select-outlined",value:t,onChange:function(e){a(e.target.value),n("All Transactions")}},ot.map((function(e,t){return r.a.createElement(K.a,{key:t,value:e,selected:e===c},e)})))))},st=(a(200),function(e){var t=e.amount,a=e.location,n=e.transactionDate;return r.a.createElement(ue.a,{className:"transaction",elevation:0},r.a.createElement(me.a,{className:"transaction-card",elevation:2},r.a.createElement("h4",null,a),r.a.createElement("div",{className:"transaction-details"},r.a.createElement("div",{className:"transaction-labels"},r.a.createElement("p",null,"Amount:"),r.a.createElement("p",null,"Date:")),r.a.createElement("div",{className:"transaction-content"},r.a.createElement("p",null,"$",Number(t).toFixed(2)),r.a.createElement("p",null,M()(n).format("MMMM Do YYYY, h:mm:ss a"))))))}),it=a(266),ut=(a(201),function(e){var t=e.category,a=e.pieMonth,c=Object(n.useState)([]),o=Object(s.a)(c,2),l=o[0],i=o[1],u=Object(n.useState)(0),m=Object(s.a)(u,2),p=m[0],g=m[1],f=Object(n.useState)(5),h=Object(s.a)(f,2),b=h[0],E=h[1];Object(n.useEffect)((function(){d.a.get("http://localhost:3000/transactions/?month=".concat(a,"&type=alltransactions"),{withCredentials:!0}).then((function(e){e.data.allTransactions&&e.data.allTransactions.length>0?i(e.data.allTransactions):i([])}))}),[a]);var y=l;return"All Transactions"!==t&&(y=l.filter((function(e){return e.category.includes(t)}))),r.a.createElement("div",null,r.a.createElement("h3",{className:"category-title-selected"},t||"All Transactions"),r.a.createElement(it.a,{rowsPerPageOptions:[5,10,25],component:"div",count:y.length,rowsPerPage:b,page:p,backIconButtonProps:{"aria-label":"previous page"},nextIconButtonProps:{"aria-label":"next page"},onChangePage:function(e,t){g(t)},onChangeRowsPerPage:function(e){E(parseInt(e.target.value,10)),g(0)},labelRowsPerPage:"Rows/page:",className:"transaction-list-header"}),y.slice(p*b,p*b+b).map((function(e){return r.a.createElement(st,{key:e.id,location:e.location,amount:e.amount,transactionDate:e.transaction_date,category:e.category})})))});a(202);function mt(e){var t=e.category,a=e.setCategory,c=Object(n.useState)([]),o=Object(s.a)(c,2),l=o[0],i=o[1],u=Object(n.useState)(0),m=Object(s.a)(u,2),p=(m[0],m[1]),g=Object(n.useState)((new Date).toLocaleString("default",{month:"long"})),f=Object(s.a)(g,2),h=f[0],b=f[1];return Object(n.useEffect)((function(){d.a.get("http://localhost:3000/transactions/?month=".concat(h,"&type=pie"),{withCredentials:!0}).then((function(e){e.data.transactions.length>0?(i(e.data.transactions),p(e.data.total[0].total)):i([])}))}),[h]),Object(n.useEffect)((function(){l.length>0&&rt.a.chart({chart:{type:"pie",renderTo:"Expenses-graph"},title:{verticalAlign:"middle",floating:!0,text:"",style:{fontSize:"15px"}},plotOptions:{pie:{allowPointSelect:!0,cursor:"pointer",point:{events:{click:function(e){a((function(t){return t===e.point.name?"All Transactions":e.point.name}))}}},dataLabels:{enabled:!1},innerSize:"20%",showInLegend:!0}},legend:{enabled:!0,floating:!1,borderWidth:0,align:"center",layout:"vertical",verticalAlign:"bottom",itemMarginTop:2,itemMarginBottom:2,itemStyle:{lineHeight:"35px"},useHTML:!0,labelFormatter:function(){return'<div style="display:flex; justify-content:space-around; margin-top:-10px; position:relative; width:300px;border-bottom:1px solid #DCDCDC;"><span style="font-weight:normal; vertical-align:super; width:100px">'+this.name+' </span> <div style="display:flex; justify-content:space-around; width:200px"><span style="font-weight:normal; vertical-align:super; ">'+this.y.toFixed(2)+'%</span><span style="font-weight:normal; vertical-align:super; right:0px;">$'+this.amount.toFixed(2)+"</span></div></div>"}},colors:["#FAD331","#64b5f6","#b39ddb","#ef6c00"],series:[{name:"Expenses",data:l}]})}),[l]),r.a.createElement("div",null,r.a.createElement("div",{className:"piechart-month-options"},r.a.createElement(lt,{month:h,setMonth:b,setCategory:a})),0===l.length&&r.a.createElement("div",{className:"no-transactions-error"},"You have no transactions for this month"),l.length>0&&r.a.createElement("div",null,r.a.createElement("div",{id:"Expenses-graph"}),r.a.createElement(ut,{category:t,pieMonth:h})," "))}a(203);function dt(e){e.category;var t=e.setCategory,a=Object(n.useState)((new Date).toLocaleString("default",{month:"long"})),c=Object(s.a)(a,2),o=c[0],l=c[1],i=Object(n.useState)(""),u=Object(s.a)(i,2),m=u[0],p=u[1],g=Object(n.useState)([]),f=Object(s.a)(g,2),h=f[0],b=f[1],E=Object(n.useState)([]),y=Object(s.a)(E,2),v=y[0],O=y[1];function j(){var e=[];return h.forEach((function(t,a){e.push({name:t.category,data:w(a)})})),e}function w(e){return m?[h.length>0?h[e].amount:[],v.length>0?v[e].amount:[]]:h.length>0?[h[e].amount]:[]}return Object(n.useEffect)((function(){d.a.get("http://localhost:3000/transactions/?month=".concat(o,"&type=bar"),{withCredentials:!0}).then((function(e){return b(e.data.transactions)}))}),[o]),Object(n.useEffect)((function(){d.a.get("http://localhost:3000/transactions/?month=".concat(m,"&type=bar"),{withCredentials:!0}).then((function(e){return O(e.data.transactions)}))}),[m]),Object(n.useEffect)((function(){rt.a.chart({chart:{type:"column",renderTo:"bar-expenses-graph"},title:{text:"This Year"},xAxis:{categories:m?[o,m]:[o],crosshair:!0},yAxis:{min:0,title:{text:"Expenses (CAD)"}},tooltip:{headerFormat:'<span style="font-size:10px">{point.key}</span><table>',pointFormat:'<tr><td style="color:{series.color};padding:0">{series.name}: </td><td style="padding:0"><b>{point.y:.1f} mm</b></td></tr>',footerFormat:"</table>",shared:!0,useHTML:!0},plotOptions:{column:{pointPadding:.2,borderWidth:0}},series:j()})}),[h,v,o,m]),r.a.createElement("div",null,r.a.createElement("div",{className:"barchart-month-options"},r.a.createElement(lt,{month:o,setMonth:l,setCategory:t}),r.a.createElement("div",null,"Vs"),r.a.createElement(lt,{month:m,setMonth:p,setCategory:t})),r.a.createElement("div",{id:"bar-expenses-graph"},"BAR CHART"))}a(204);var pt=["2019"],gt=function(e){var t=e.year,a=e.setYear,n=(new Date).toLocaleString("default",{month:"numeric"});return r.a.createElement("div",null,r.a.createElement(ct.a,{className:"year-options-list"},r.a.createElement(J.a,{id:"demo-simple-select-outlined-label"},"Month"),r.a.createElement(z.a,{labelId:"demo-simple-select-outlined-label",id:"demo-simple-select-outlined",value:t,onChange:function(e){a(e.target.value)}},pt.map((function(e,t){return r.a.createElement(K.a,{key:t,value:e,selected:e===n},e)})))))},ft=function(){var e=Object(n.useState)([]),t=Object(s.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)({}),l=Object(s.a)(o,2),i=l[0],u=l[1],m=Object(n.useState)("2019"),p=Object(s.a)(m,2),g=p[0],f=p[1];return Object(n.useEffect)((function(){d.a.get("http://localhost:3000/transactions/?month=January&type=budgetchart",{withCredentials:!0}).then((function(e){u(e.data.transactions),c(e.data.budget)}))}),[]),Object(n.useEffect)((function(){var e=Object.keys(i),t=Object.values(i),n=[],r=[];t.forEach((function(e){a-e<0?(n.push(a-e),r.push(0)):(n.push(0),r.push(a-e))})),rt.a.chart({chart:{type:"bar",renderTo:"budget-goal"},title:{text:""},xAxis:[{categories:e,reversed:!0,labels:{step:1}}],yAxis:{title:{text:"Amount"}},plotOptions:{series:{stacking:"normal"}},series:[{name:"Over Budget",data:n,color:"#f5424e"},{name:"Under Budget",data:r,color:"#45d624"}]})}),[i,a]),r.a.createElement("div",null,r.a.createElement("div",{className:"piechart-month-options"},r.a.createElement(gt,{year:g,setYear:f})),r.a.createElement("div",{id:"budget-goal"}))},ht=a(120),bt=a.n(ht);a(205);function Et(){var e=Object(n.useState)("Current Breakdown"),t=Object(s.a)(e,2),a=t[0],c=t[1],o=Object(u.f)(),l=Object(n.useState)("All Transactions"),i=Object(s.a)(l,2),m=i[0],d=i[1],p={"Current Breakdown":r.a.createElement(mt,{category:m,setCategory:d}),"Monthly Comparison":r.a.createElement(dt,{category:m,setCategory:d}),"Budget Comparison":r.a.createElement(ft,null)};return r.a.createElement("div",null,r.a.createElement("div",{className:"analytics-title"},r.a.createElement(bt.a,{className:"analytics-icon"}),r.a.createElement("div",null,"Analytics")),r.a.createElement("div",{className:"analytics-title-category"},r.a.createElement("div",null,r.a.createElement(ct.a,{className:"analytics-category"},r.a.createElement(J.a,{id:"demo-simple-select-autowidth-label"},"Analytics Category"),r.a.createElement(z.a,{labelId:"demo-simple-select-autowidth-label",name:"",value:a,onChange:function(e){c(e.target.value)}},r.a.createElement(K.a,{value:"Current Breakdown"},"Current Breakdown"),r.a.createElement(K.a,{value:"Monthly Comparison"},"Monthly Comparison"),r.a.createElement(K.a,{value:"Budget Comparison"},"Budget Comparison"))))),p[a],r.a.createElement(ie,{location:o.location.pathname.slice(1)}))}a(206);function yt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function vt(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?yt(a,!0).forEach((function(t){Object(l.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):yt(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function Ot(e){var t=Object(n.useState)({name:"",email:"",password:"",password_confirmation:""}),a=Object(s.a)(t,2),c=a[0],o=a[1];return r.a.createElement("div",{className:"edit-profile",style:{width:"100%"}},r.a.createElement(ue.a,null,r.a.createElement(me.a,null,r.a.createElement("form",{className:"edit-profile-form",onSubmit:function(){return e.closeEditProfile()}},r.a.createElement("div",{className:"text-fields"},r.a.createElement(f.a,{required:!0,style:{margin:"5px",width:"80%"},type:"text",placeholder:"Name",value:c.name,onChange:function(e){return o(vt({},c,{name:e.target.value}))}}),r.a.createElement("br",null),r.a.createElement(f.a,{required:!0,style:{margin:"5px",width:"80%"},type:"text",placeholder:"Email",value:c.email,onChange:function(e){return o(vt({},c,{email:e.target.value}))}}),r.a.createElement("br",null),r.a.createElement(f.a,{required:!0,style:{margin:"5px",width:"80%"},type:"text",placeholder:"Password",value:c.password,onChange:function(e){return o(vt({},c,{password:e.target.value}))}}),r.a.createElement("br",null),r.a.createElement(f.a,{required:!0,style:{margin:"5px",width:"80%"},type:"text",placeholder:"Re-Enter Password",value:c.password_confirmation,onChange:function(e){return o(vt({},c,{password_confirmation:e.target.value}))}})),r.a.createElement("div",{className:"submit-button"},r.a.createElement(p.a,{onClick:function(){Object.values(c).filter((function(e){return e})).length>0?d.a.put("http://localhost:3000/registrations/".concat(e.id),{name:c.name,email:c.email,password:c.password,password_confirmation:c.password_confirmation},{withCredentials:!0}).then((function(t){t.data.success&&(e.setLoginStatus(vt({},e.logInStatus,{user:vt({},e.logInStatus.user,{name:c.name?c.name:e.logInStatus.user.name,email:c.email?c.email:e.logInStatus.user.email})})),o(vt({},c,{name:"",email:"",password:"",password_confirmation:""}))),e.closeEditProfile()})).catch((function(e){alert("There was an error:",e)})):alert("All Fields Empty")}},"Save"))))))}a(207);function jt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function wt(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?jt(a,!0).forEach((function(t){Object(l.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):jt(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function Nt(e){var t=Object(n.useState)({amount:"",goal_type:"budget",name:"budget",start_date:null,end_date:null}),a=Object(s.a)(t,2),c=a[0],o=a[1];return r.a.createElement("div",{className:"edit-budget"},r.a.createElement(ue.a,null,r.a.createElement(me.a,null,r.a.createElement("div",null,r.a.createElement(f.a,{style:{margin:"5px",width:"80%"},placeholder:"Enter a new Budget",value:c.amount,onChange:function(e){return o(wt({},c,{amount:e.target.value}))}})),r.a.createElement("div",{className:"submit-button"},r.a.createElement(p.a,{onClick:function(){c.amount>0&&(e.closeEditBudget(),d.a.post("http://localhost:3000/goals",c,{withCredentials:!0}),o(wt({},c,{amount:""})))}},"Update Budget")))))}a(208);function St(e){e.logInStatus.user||e.checkLogInStatus();var t=Object(u.f)();console.log(t.location.pathname);var a=Object(n.useState)(!1),c=Object(s.a)(a,2),o=c[0],l=c[1],i=Object(n.useState)(!1),m=Object(s.a)(i,2),d=m[0],g=m[1];return r.a.createElement("div",null,r.a.createElement("div",{className:"profile-page"},r.a.createElement("div",{className:"header"},r.a.createElement("div",{className:"header-left"},r.a.createElement("img",{src:"pig.png",className:"avatar"}),r.a.createElement("p",{className:"logout",onClick:function(){e.logOutClick(),t.push("/")}},"Logout")),r.a.createElement("div",{className:"header-profile"},r.a.createElement("p",{className:"profile-username"},e.logInStatus.user.name),r.a.createElement("p",{className:"profile-email"},e.logInStatus.user.email))),r.a.createElement("div",{className:"description"},r.a.createElement("p",null,"Edit your profile information or change your monthly budget goal below. ",r.a.createElement("strong",null,"Happy Savings!"))),r.a.createElement("div",{className:"edit-fields"},r.a.createElement(p.a,{className:"edit-user-fields-button",onClick:function(){return l(!o)}},"Edit Profile"),o?r.a.createElement(Ot,{id:e.logInStatus.user.id,setLoginStatus:e.setLoginStatus,logInStatus:e.logInStatus,closeEditProfile:function(){return l(!1)}}):null,r.a.createElement(p.a,{className:"edit-budget-fields-button",onClick:function(){return g(!d)}},"Edit Budget"),d?r.a.createElement(Nt,{closeEditBudget:function(){return g(!1)}}):null)),r.a.createElement(ie,{location:t.location.pathname.slice(1)}))}a(209);function Ct(e){var t=Object(u.f)();return e.logInStatus.user||e.checkLogInStatus(),r.a.createElement("div",{className:"store-page"},r.a.createElement("h1",{className:"store-title"},r.a.createElement(q.a,{className:"store-icon"}),"Store"),r.a.createElement("div",{className:"budget-status"},"You have met your budget ",r.a.createElement("strong",null,e.budgetAchieved)," times this year"),r.a.createElement("h3",{className:"store-headings"},"Inventory"),r.a.createElement(ue.a,{className:"store-content inventory"},r.a.createElement(me.a,{className:"store-items"},r.a.createElement("span",null,r.a.createElement("p",{className:"item-title"}," ",r.a.createElement("img",{className:"item-img",src:"coins.jpg",style:{height:"50px",width:"50px"}}),"Coins")),r.a.createElement("p",{className:"amount"},e.coins))),r.a.createElement("h3",{className:"store-headings"},"Market"),r.a.createElement(ue.a,{className:"store-content market"},r.a.createElement(me.a,{className:"store-items"},r.a.createElement("div",null,r.a.createElement("img",{src:"potion.png",className:"item-img",style:{height:"60px",width:"60px"}}),r.a.createElement("section",null,r.a.createElement("p",{className:"item-title"},"Potion"),r.a.createElement("p",{className:"item-description"},"+ 20 HP"))),r.a.createElement("button",{onClick:function(){100!==e.hp&&e.coins>=20?e.subtractCoinsAddHP(-20,20):e.coins<20?alert("You don't have enough money"):alert("Your health is already full")},className:"buy-button"},"Buy"))),r.a.createElement("h3",{className:"store-headings"},"My Badges"),r.a.createElement("div",{className:"badge-cards"},r.a.createElement(ue.a,{className:"badge-card"},r.a.createElement(me.a,{className:"straw"},r.a.createElement("img",{src:e.images[0],style:{height:"100px",width:"100px"}}),r.a.createElement("div",{className:"badge-info"},r.a.createElement("p",{className:"badge-title"},"Straw Badge"),r.a.createElement("p",{className:"badge-description"},"Meet your budget 1 time in a year")))),r.a.createElement(ue.a,{className:"badge-card"},r.a.createElement(me.a,{className:"stick"},r.a.createElement("img",{src:e.images[1],style:{height:"100px",width:"100px"}}),r.a.createElement("div",{className:"badge-info"},r.a.createElement("p",{className:"badge-title"},"Stick Badge"),r.a.createElement("p",{className:"badge-description"},"Meet your budget 3 times in a year")))),r.a.createElement(ue.a,{className:"badge-card"},r.a.createElement(me.a,{className:"brick"},r.a.createElement("img",{src:e.images[2],style:{height:"100px",width:"100px"}}),r.a.createElement("div",{className:"badge-info"},r.a.createElement("p",{className:"badge-title"},"Brick Badge"),r.a.createElement("p",{className:"badge-description"},"Meet your budget 5 times in a year")))),r.a.createElement(ue.a,{className:"badge-card"},r.a.createElement(me.a,{className:"wolf"},r.a.createElement("img",{src:e.images[3],style:{height:"100px",width:"100px"}}),r.a.createElement("div",{className:"badge-info"},r.a.createElement("p",{className:"badge-title"},"Wolf Badge"),r.a.createElement("p",{className:"badge-description"},"Meet your budget 10 times in a year"))))),r.a.createElement(ie,{location:t.location.pathname.slice(1)}))}function Pt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Dt(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Pt(a,!0).forEach((function(t){Object(l.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Pt(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function kt(){for(var e=Object(n.useState)({status:"not_logged_in",user:""}),t=Object(s.a)(e,2),a=t[0],c=t[1],o="http://localhost:3000/check_badges/?badge=locked",l=Object(n.useState)(!1),m=Object(s.a)(l,2),p=m[0],f=m[1],h=Object(n.useState)([o,o,o,o]),E=Object(s.a)(h,2),y=(E[0],E[1],function(e){c({status:"logged_in",user:e})}),v=["http://localhost:3000/check_badges/?badge=locked","http://localhost:3000/check_badges/?badge=locked","http://localhost:3000/check_badges/?badge=locked","http://localhost:3000/check_badges/?badge=locked"],O=[1,3,5,10],j=function(e){e.logged_in||c({status:"not_logged_in",user:""})},w=0,N=O;w<N.length;w++){var S=N[w];if(S>0&&S<=a.user.num_times_bud_met){var C=O.indexOf(S);v[C]="http://localhost:3000/check_badges/?badge=".concat(S)}}var P=function(){d.a.get("http://localhost:3000/logged_in",{withCredentials:!0}).then((function(e){e.data.logged_in&&(y(e.data.user),d.a.get("http://localhost:3000/check_budget_met",{withCredentials:!0}).then((function(e){c({status:"logged_in",user:e.data.user}),0===e.data.user.hp&&(alert("You have died"),d.a.put("http://localhost:3000/game/".concat(e.data.user.id),{hp:100,coins:0,num_times_bud_met:0},{withCredentials:!0}).then((function(e){c({status:"logged_in",user:e.data.user})})))})).catch((function(e){}))),e.data.logged_in||"logged_in"!==a||c({status:"not_logged_in",user:{}})})).catch((function(e){return console.log("check log in error",e)}))};return r.a.createElement(i.a,null,r.a.createElement(u.c,null,r.a.createElement(u.a,{path:"/login",render:function(){return r.a.createElement(b,{handleLogin:y,logInStatus:a})}}),r.a.createElement(u.a,{path:"/register",render:function(){return r.a.createElement(_,{handleLogin:y})}}),r.a.createElement(u.a,{path:"/home",render:function(){return r.a.createElement(Ge,{refreshGoals:p,setRefreshGoals:f,checkLogInStatus:P,handleLogout:j,logInStatus:a,updateCoins:function(e){return c(Dt({},a,{user:Dt({},a.user,{coins:e})}))},minusHP:function(e){return c(Dt({},a,{user:Dt({},a.user,{hp:a.user.hp-e})}))},resetHP:function(e){return c(Dt({},a,{user:Dt({},a.user,{hp:e})}))}})}}),r.a.createElement(u.a,{path:"/onboarding",render:function(){return r.a.createElement(at,null)}}),r.a.createElement(u.a,{path:"/analytics",render:function(){return r.a.createElement(Et,null)}}),r.a.createElement(u.a,{path:"/profile",render:function(){return r.a.createElement(St,{handleLogin:y,logInStatus:a,checkLogInStatus:P,logOutClick:function(){d.a.delete("http://localhost:3000/logout",{withCredentials:!0}).then((function(e){j(e)})).catch((function(e){return console.log("logout error",e)}))},setLoginStatus:c})}}),r.a.createElement(u.a,{path:"/store",render:function(){return r.a.createElement(Ct,{checkLogInStatus:P,coins:a.user.coins,hp:a.user.hp,subtractCoinsAddHP:function(e,t){return function(e,t){d.a.get("http://localhost:3000/game/?coins=".concat(e,"&hp=").concat(t),{withCredentials:!0}),c(Dt({},a,{user:Dt({},a.user,{coins:a.user.coins+e,hp:a.user.hp+t})}))}(e,t)},budgetAchieved:a.user.num_times_bud_met,images:v,logInStatus:a})}}),r.a.createElement(u.a,{path:"/",render:function(){return r.a.createElement(g,null)}})))}a(210),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function _t(){o.a.render(r.a.createElement(kt,null),document.getElementById("root"))}window.cordova?document.addEventListener("deviceready",_t,!1):_t(),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},55:function(e,t,a){}},[[141,1,2]]]);
//# sourceMappingURL=main.dda06d0b.chunk.js.map